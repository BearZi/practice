<!doctype html>
<html>
<style type="text/css">
	ul {
		list-style: none;
		position: relative;
	}
	li {
		display: block;
		position: absolute;
	}
	li img {
		width: 100%;
	}
</style>



<body>
	<ul>
		<li><img src="./public/images/1.jpg"/></li>
		<li><img src="./public/images/2.jpg"/></li>
		<li><img src="./public/images/3.jpg"/></li>
		<li><img src="./public/images/4.jpg"/></li>
		<li><img src="./public/images/5.jpg"/></li>
		<li><img src="./public/images/6.jpg"/></li>
		<li><img src="./public/images/7.jpg"/></li>
	</ul>


<script type="text/javascript">
	var all_img = document.querySelectorAll('li > img'),
		all_li = document.querySelectorAll('li'),
		img_leng = all_img.length,
		check_img_load = 0,
		block_width,
		PosImg = function(){
			for (var i=0; i < img_leng; i++) {
				all_li[i].style.cssText = 'width:30%';
				
				if (!i) {
					all_li[i].style.top = 0;
					all_li[i].style.left= 0;
					block_width = all_li[i].offsetWidth;
				} else if (i%3 > 0) {
					all_li[i].style.top = 0;
					all_li[i].style.left = 0;
				} else {
					all_li[i].style.left = 0;
				}


			}
		};

	for (var i=0; i < img_leng; i++) {
		all_img[i].addEventListener('load', function (){
			check_img_load++;
			if (check_img_load === img_leng) {
				console.log('img loaded complete!!');

				PosImg();
			}
		}, false);
	}


</script>

</body>
</html>



